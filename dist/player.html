<!doctype html>
<title>YouTube Popout</title>
<script type=text/javascript src=lib/jquery.js></script>
<script>
  chrome.extension.onRequest.addListener(
  function(request, sender, sendResponse) {
    jQuery.noConflict();
    (function($) {

      // Set the title
      document.title = request.title;

      /*
       * Append the player HTML and set the CSS rules. Note that we have to set
       * the CSS after we set the HTML, as the rules are ignored and the
       * structure of the page is changed when the player is appended. I don't
       * know why this is, but setting the CSS rules after works perfectly. -jlf
       */
      $('body').html(request.html);
      $('embed').css({ width: '100%', height: '100%' }).attr('width', '100%').attr('height', '100%'); 
      $('*').css({margin: 0, padding: 0});
    })(jQuery);
  });
</script> 
